! labs/lab-006-vwan-spoke-bgp-router-loopback/scripts/router/frr.conf
! FRRouting configuration template for lab-006 router VM
!
! IMPORTANT: The vHub runs active-active with two router instances.
! BOTH must be peered or routing failures will occur.
!
! deploy.ps1 Phase 4 queries the actual vHub IPs at runtime and pushes
! the correct config to the router VM. The IPs below are placeholders.
!
! To query manually:
!   az network vhub show -g rg-lab-006-vwan-bgp-router -n vhub-lab-006 --query virtualRouterIps -o json

frr version 8.1
frr defaults traditional
hostname router-006
log syslog informational
no ipv6 forwarding
!
router bgp 65100
 bgp router-id 10.61.1.4
 no bgp ebgp-requires-policy
 !
 ! vHub active-active BGP peers (both required -- deploy.ps1 Phase 4 overwrites with actual IPs)
 neighbor 10.0.0.69 remote-as 65515
 neighbor 10.0.0.70 remote-as 65515
 !
 address-family ipv4 unicast
  ! Loopback: inside Spoke A VNet CIDR (may conflict with system routes)
  network 10.61.250.1/32
  ! Loopback: outside any VNet CIDR (clean propagation test)
  network 10.200.200.1/32
  ! Uncomment to also advertise client-a subnet downstream
  ! network 10.61.10.0/24
 exit-address-family
!
line vty
!
