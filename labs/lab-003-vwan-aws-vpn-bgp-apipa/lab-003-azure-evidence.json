{
  "metadata": {
    "generatedAt": "2026-02-01T14:06:22",
    "expected": {
      "requiresVpnSiteLinks": true,
      "requiresVpnGatewayConnections": true,
      "requiresApipa169_254": true
    },
    "resourceGroup": "rg-lab-003-vwan-aws",
    "subscriptionId": "30d0a77c-36d2-451e-bed5-cb0068ce2bcd"
  },
  "inventory": {
    "virtualWans": [
      {
        "Name": "vwan-lab-003",
        "ResourceId": "/subscriptions/30d0a77c-36d2-451e-bed5-cb0068ce2bcd/resourceGroups/rg-lab-003-vwan-aws/providers/Microsoft.Network/virtualWans/vwan-lab-003"
      }
    ],
    "virtualHubs": [
      {
        "Name": "vhub-lab-003",
        "ResourceId": "/subscriptions/30d0a77c-36d2-451e-bed5-cb0068ce2bcd/resourceGroups/rg-lab-003-vwan-aws/providers/Microsoft.Network/virtualHubs/vhub-lab-003"
      }
    ],
    "vpnSites": [
      {
        "Name": "lab-003-aws-site",
        "ResourceId": "/subscriptions/30d0a77c-36d2-451e-bed5-cb0068ce2bcd/resourceGroups/rg-lab-003-vwan-aws/providers/Microsoft.Network/vpnSites/lab-003-aws-site"
      }
    ],
    "vpnConnections": [],
    "vpnGateways": [
      {
        "Name": "vpngw-lab-003",
        "ResourceId": "/subscriptions/30d0a77c-36d2-451e-bed5-cb0068ce2bcd/resourceGroups/rg-lab-003-vwan-aws/providers/Microsoft.Network/vpnGateways/vpngw-lab-003"
      }
    ],
    "resourceTypes": [
      {
        "ResourceType": "Microsoft.Compute/disks",
        "Name": "vm-spoke-lab-003_disk1_f1ccb925522d4fcdbacd72a216949758"
      },
      {
        "ResourceType": "Microsoft.Compute/virtualMachines",
        "Name": "vm-spoke-lab-003"
      },
      {
        "ResourceType": "Microsoft.Network/networkInterfaces",
        "Name": "nic-vm-spoke-lab-003"
      },
      {
        "ResourceType": "Microsoft.Network/virtualHubs",
        "Name": "vhub-lab-003"
      },
      {
        "ResourceType": "Microsoft.Network/virtualNetworks",
        "Name": "vnet-spoke-lab-003"
      },
      {
        "ResourceType": "Microsoft.Network/virtualWans",
        "Name": "vwan-lab-003"
      },
      {
        "ResourceType": "Microsoft.Network/vpnGateways",
        "Name": "vpngw-lab-003"
      },
      {
        "ResourceType": "Microsoft.Network/vpnSites",
        "Name": "lab-003-aws-site"
      }
    ]
  },
  "checks": {
    "gatewayConnectionsNonEmpty": false,
    "vpnSiteExists": true,
    "vpnSiteLinksPresent": false,
    "vpnConnectionsPresent": false,
    "vpnGatewayExists": true,
    "apipaPresent169_254": false
  },
  "extracts": {
    "vpnSite": {
      "provisioningState": "Succeeded",
      "addressSpace": {
        "addressPrefixes": [
          "10.20.0.0/16"
        ]
      },
      "deviceProperties": {
        "deviceModel": "VGW",
        "deviceVendor": "AWS",
        "linkSpeedInMbps": 0
      },
      "virtualWan": {
        "id": "/subscriptions/30d0a77c-36d2-451e-bed5-cb0068ce2bcd/resourceGroups/rg-lab-003-vwan-aws/providers/Microsoft.Network/virtualWans/vwan-lab-003"
      },
      "isSecuritySite": false,
      "o365Policy": {
        "breakOutCategories": {
          "optimize": false,
          "allow": false,
          "default": false
        }
      },
      "ipAddress": "3.147.124.16"
    },
    "vpnSiteLinks": [],
    "vpnGateway": {
      "provisioningState": "Succeeded",
      "connections": [],
      "virtualHub": {
        "id": "/subscriptions/30d0a77c-36d2-451e-bed5-cb0068ce2bcd/resourceGroups/rg-lab-003-vwan-aws/providers/Microsoft.Network/virtualHubs/vhub-lab-003"
      },
      "bgpSettings": {
        "asn": 65515,
        "peerWeight": 0,
        "bgpPeeringAddresses": [
          {
            "ipconfigurationId": "Instance0",
            "defaultBgpIpAddresses": [
              "10.100.0.13"
            ],
            "customBgpIpAddresses": [],
            "tunnelIpAddresses": [
              "20.75.125.178",
              "10.100.0.4"
            ]
          },
          {
            "ipconfigurationId": "Instance1",
            "defaultBgpIpAddresses": [
              "10.100.0.12"
            ],
            "customBgpIpAddresses": [],
            "tunnelIpAddresses": [
              "20.72.99.171",
              "10.100.0.5"
            ]
          }
        ]
      },
      "vpnGatewayScaleUnit": 1,
      "packetCaptureDiagnosticState": "None",
      "ipConfigurations": [
        {
          "id": "Instance0",
          "publicIpAddress": "20.75.125.178",
          "privateIpAddress": "10.100.0.4"
        },
        {
          "id": "Instance1",
          "publicIpAddress": "20.72.99.171",
          "privateIpAddress": "10.100.0.5"
        }
      ],
      "natRules": [],
      "enableBgpRouteTranslationForNat": false,
      "isRoutingPreferenceInternet": false
    },
    "vpnGatewayBgpSettings": {
      "asn": 65515,
      "peerWeight": 0,
      "bgpPeeringAddresses": [
        {
          "ipconfigurationId": "Instance0",
          "defaultBgpIpAddresses": [
            "10.100.0.13"
          ],
          "customBgpIpAddresses": [],
          "tunnelIpAddresses": [
            "20.75.125.178",
            "10.100.0.4"
          ]
        },
        {
          "ipconfigurationId": "Instance1",
          "defaultBgpIpAddresses": [
            "10.100.0.12"
          ],
          "customBgpIpAddresses": [],
          "tunnelIpAddresses": [
            "20.72.99.171",
            "10.100.0.5"
          ]
        }
      ]
    }
  }
}
